select(-contains("Length_Var"))
PresAbs_All <- Working_Tow %>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
mutate_at(vars(contains("Catch")),funs(ifelse(is.na(.), 0, 1)))
PresAbs_All <- Working_Tow %>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
mutate_at(vars(contains("Catch")),~ifelse(is.na(.), 0, 1))
View(PresAbs_All)
PresAbs_All <- Working_Tow %>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
mutate_at(vars(contains("Catch")),~ifelse(.==0, 0, 1))
View(PresAbs_All)
PresAbs_All <- Working_Tow %>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
mutate_at(vars(contains("Catch_")),~ifelse(.==0, 0, 1))
View(PresAbs_All)
names(Working_Tow)
#Towards station level summaries
Working_Tow%>%select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))
#Towards station level summaries
Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
ungroup()%>%
distinct(across(c(SampleDate,Survey_Station,CommonName)),.keep_all = T)%>%
group_by(Survey_Station)%>%
mutate(SpeciesAllTime = length(unique(CommonName)))%>%
ungroup()%>%
group_by(Survey_Station,Year)%>%
mutate(SpeciesperYear = length(unique(CommonName)))%>%
ungroup()%>%
group_by(Survey_Station)%>%
mutate(MeanSpeciesperYear = mean(SpeciesperYear))%>%
select(-c(TowNumber,TemperatureBottom,SurveyNumber,JulianDay))
View(Working_Tow)
names(Working_Tow)
#Towards station level summaries
Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
ungroup()%>%
distinct(across(c(SampleDate,Survey_Station,CommonName)),.keep_all = T)%>%
group_by(Survey_Station)%>%
mutate(SpeciesAllTime = length(unique(CommonName)))%>%
ungroup()%>%
group_by(Survey_Station,Year)%>%
mutate(SpeciesperYear = length(unique(CommonName)))%>%
ungroup()%>%
group_by(Survey_Station)%>%
mutate(MeanSpeciesperYear = mean(SpeciesperYear))%>%
select(-c(TowNumber,TemperatureBottom,SurveyNumber,JulianDay))
#Towards station level summaries
Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = unite(unique(SurveySeason),col="Surveys"),sep=",")
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = unique(SurveySeason))
W
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","))
View(Working_Station)
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(SurveySeason)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason)
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason)%>%
relocate(c(StationCode,Surveys),.before=Year)
names(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason,Comment1:Comment3)%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin)%>%
summarise_all(list(min, max,mean))
names(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason,Comment1:Comment3,MeterSerial)%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin,Region,Subregion,strata_depth,category)%>%
summarise_all(list(min, max,mean))
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason,Comment1:Comment3,MeterSerial)%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min, max,mean))
warnings()
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-SurveySeason,Comment1:Comment3,MeterSerial)
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min, max,mean))
View(PresAbs_All)
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
warnings()
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,Area,WeightingFactor,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
View(Working_Station)
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor,StationOrigin))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor,Station_Origin))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor,Station_Origin))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
View(Working_Tow)
names(Working_Tow)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Station_Origin,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
View(Working_Station)
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
mutate(StationActive = if_else(any(StationActive)==T,T,F))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
mutate(StationActive = if_else(any(StationActive)==T,T,F))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category,N_Tows,Mean_Tows)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)%>%
select(-c(Year_mean,Month_mean,JulianDay_Mean))
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(N_Tows = n(),
Mean_Tows = N_Tows/length(unique(Year)))%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
mutate(StationActive = if_else(any(StationActive)==T,T,F))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category,N_Tows,Mean_Tows)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)%>%
select(-c(Year_mean,Month_mean,JulianDay_Mean))
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(N_Tows = n(),
Mean_Tows = N_Tows/length(unique(Year)))%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
mutate(StationActive = if_else(any(StationActive)==T,T,F))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category,N_Tows,Mean_Tows)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)%>%
select(-c(Year_mean,Month_mean,Julian_Day_Mean))
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(N_Tows = n(),
Mean_Tows = N_Tows/length(unique(Year)))%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
mutate(StationActive = if_else(any(StationActive)==T,T,F))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category,N_Tows,Mean_Tows)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)%>%
select(-c(Year_mean,Month_mean,JulianDay_mean))
#Towards station level summaries
Working_Station <- Working_Tow%>%
select(-c(SampleDate,Survey_Station,SurveyNumber,TemperatureTop,TemperatureBottom,
Secchi,ConductivityBottom,CableOut:OrderNum,Station_Origin))%>%
select(-contains("Length_Mean"))%>%
select(-contains("Length_Var"))%>%
select(-contains("Catch_"))%>%
group_by(StationCode)%>%
mutate(N_Tows = n(),
Mean_Tows = round(N_Tows/length(unique(Year)),0))%>%
mutate(Surveys = paste(unique(SurveySeason),collapse=","),.after = StationCode)%>%
mutate(Station_Longitude = mean(Station_Longitude),Station_Latitude=mean(Station_Latitude))%>%
mutate(Location=paste(unique(Location),collapse=","))%>%
mutate(StationActive = if_else(any(StationActive)==T,T,F))%>%
select(-c(SurveySeason,Comment1:Comment3,MeterSerial,Q25Length,Q75Length,Area,WeightingFactor))%>%
relocate(c(StationCode,Surveys),.before=Year)%>%
group_by(StationCode,Surveys,Station_Longitude,Station_Latitude,
StationActive,Location,Region,SubRegion,strata_depth,category,N_Tows,Mean_Tows)%>%
summarise_all(list(min=min, max=max,mean=mean),na.rm=T)%>%
select(-c(Year_mean,Month_mean,JulianDay_mean))
Working_Station[is.na(Working_Tow)] <- NA
Working_Station[is.na(Working_Station)] <- NA
plot(Working_Station$ConductivityTop_max,Working_Station$FishCatch_mean)
Station_Master <- do.call(data.frame,lapply(Working_Station, function(x) replace(x, is.infinite(x),NA)))
View(Station_Master)
Station_Master <- do.call(data.frame,lapply(Working_Station, function(x) replace(x, is.infinite(x),NA)))%>%
arrange(-ConductivityTop)
Station_Master <- do.call(data.frame,lapply(Working_Station, function(x) replace(x, is.infinite(x),NA)))%>%
arrange(-ConductivityTop_Max)
Station_Master <- do.call(data.frame,lapply(Working_Station, function(x) replace(x, is.infinite(x),NA)))%>%
arrange(-ConductivityTop_max)
Station_Master <- do.call(data.frame,lapply(Working_Station, function(x) replace(x, is.infinite(x),NA)))%>%
arrange(-ConductivityTop_mean)
plot(Station_Master$Station_Longitude)
plot(Station_Master$Station_Longitude,Station_Master$ConductivityTop_mean)
